<!DOCTYPE html>
<html lang="vi">

<head>
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-QFQ2HMYTDH"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-QFQ2HMYTDH');
	</script>
	<script src="security-utils.js"></script>
	<script src="assets/theme-toggle.js"></script>
	<script>
		// Validate access and setup session globals
		const session = SecurityProvider.validateAccess();
		const currentUser = session ? session.user : null;
		const perms = session ? session.permissions : null;
	</script>

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Dunvex | H·ªá Sinh Th√°i Qu·∫£n L√Ω V·∫≠t Li·ªáu X√¢y D·ª±ng</title>
	<link rel="icon" type="image/svg+xml"
		href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%23FACC15'/><text x='50%' y='50%' dominant-baseline='central' text-anchor='middle' fill='white' font-size='60' font-family='sans-serif' font-weight='800'>DV</text></svg>">
	<link
		href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Outfit:wght@600;800&display=swap"
		rel="stylesheet">
	<link rel="stylesheet" href="assets/theme.css">
	<style>
		/* Variables now handled in theme.css */

		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
			font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
			text-rendering: optimizeLegibility;
			-webkit-font-smoothing: antialiased;
			-moz-osx-font-smoothing: grayscale;
		}

		body {
			/* Background and color handled by theme.css */
			min-height: 100vh;
			line-height: 1.6;
			overflow-x: hidden;
			-webkit-text-size-adjust: 100%;
			font-weight: 400;
		}

		/* Custom Scrollbar */
		::-webkit-scrollbar {
			width: 8px;
		}

		::-webkit-scrollbar-track {
			background: var(--bg-dark);
		}

		::-webkit-scrollbar-thumb {
			background: var(--glass-border);
			border-radius: 10px;
		}

		::-webkit-scrollbar-thumb:hover {
			background: var(--primary);
		}

		/* Navigation */
		nav {
			position: fixed;
			top: 0;
			width: 100%;
			padding: 20px 5%;
			display: flex;
			justify-content: space-between;
			align-items: center;
			z-index: 1000;
			backdrop-filter: blur(10px);
			border-bottom: 1px solid var(--glass-border);
			background: var(--card-bg);
		}

		.logo-box {
			display: flex;
			align-items: center;
			gap: 12px;
			font-weight: 800;
			font-size: 1.5rem;
			letter-spacing: -1px;
			color: var(--text-main);
		}

		.logo-box span {
			background: linear-gradient(135deg, var(--primary), var(--accent-purple));
			background-clip: text;
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
		}

		.nav-auth {
			display: flex;
			align-items: center;
			gap: 20px;
		}

		.btn-glass {
			background: var(--card-bg);
			border: 1px solid var(--glass-border);
			color: var(--text-main);
			padding: 10px 24px;
			border-radius: 12px;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.3s ease;
			text-decoration: none;
		}

		.btn-glass:hover {
			background: rgba(255, 255, 255, 0.1);
			transform: translateY(-2px);
		}

		.btn-primary {
			background: var(--primary);
			color: white;
			padding: 10px 24px;
			border-radius: 12px;
			font-weight: 600;
			text-decoration: none;
			transition: all 0.3s ease;
			border: none;
			cursor: pointer;
		}

		.btn-primary:hover {
			box-shadow: 0 0 20px rgba(99, 102, 241, 0.4);
			transform: translateY(-2px);
		}

		/* Hero Section */
		header.hero {
			padding: 180px 5% 100px;
			text-align: center;
			position: relative;
		}

		header.hero h1 {
			font-family: 'Inter', sans-serif;
			font-size: 4.5rem;
			font-weight: 800;
			margin-bottom: 24px;
			line-height: 1.1;
			max-width: 900px;
			margin-left: auto;
			margin-right: auto;
			letter-spacing: -2px;
			color: var(--text-main);
		}

		@media (max-width: 768px) {
			header.hero h1 {
				font-size: 2.5rem;
			}
		}

		.gradient-text {
			background: linear-gradient(135deg, var(--text-main) 30%, var(--primary-light), var(--accent-purple));
			-webkit-background-clip: text;
			background-clip: text;
			-webkit-text-fill-color: transparent;
			/* Safari Fixes */
			padding-bottom: 5px;
			display: inline-block;
			filter: drop-shadow(0 0 1px rgba(0, 0, 0, 0.1));
		}

		header.hero p {
			font-size: 1.35rem;
			font-weight: 500;
			color: var(--text-muted);
			max-width: 750px;
			margin: 0 auto 40px;
			line-height: 1.5;
		}

		/* Features Grid */
		.features-section {
			padding: 80px 5%;
		}

		.section-title {
			text-align: center;
			margin-bottom: 60px;
		}

		.section-title h2 {
			font-size: 2.5rem;
			margin-bottom: 16px;
		}

		.section-title p {
			color: var(--text-muted);
			font-size: 1.1rem;
		}

		.features-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
			gap: 24px;
		}

		.feature-card {
			background: var(--card-bg);
			border: 1px solid var(--glass-border);
			padding: 40px;
			border-radius: 24px;
			transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
			position: relative;
			overflow: hidden;
		}

		.feature-card:hover {
			transform: translateY(-10px) scale(1.02);
			border-color: var(--primary);
			background: var(--card-bg);
			box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
		}

		.feature-icon {
			width: 60px;
			height: 60px;
			background: rgba(99, 102, 241, 0.1);
			border-radius: 16px;
			display: flex;
			align-items: center;
			justify-content: center;
			margin-bottom: 24px;
			color: var(--primary);
			font-size: 1.5rem;
		}

		.feature-card h3 {
			font-size: 1.5rem;
			margin-bottom: 12px;
		}

		.feature-card p {
			color: var(--text-muted);
			font-size: 0.95rem;
		}


		/* Modules Quick-Access */
		.modules-preview {
			padding: 100px 5%;
			background: linear-gradient(to bottom, #ffffff, #f8fafc);
			border-top: 1px solid var(--glass-border);
			border-bottom: 1px solid var(--glass-border);
		}

		.module-list {
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
			gap: 16px;
			margin-top: 40px;
		}

		.module-tag {
			padding: 12px 24px;
			background: var(--card-bg);
			border: 1px solid var(--glass-border);
			border-radius: 99px;
			font-weight: 600;
			color: var(--text-main);
			transition: 0.3s;
			cursor: pointer;
			box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
		}

		.module-tag:hover {
			color: #0f172a;
			border-color: var(--primary);
			background: var(--primary);
			transform: translateY(-2px);
		}

		/* Floating Contact/Menu */
		.floating-actions {
			position: fixed;
			bottom: 30px;
			right: 30px;
			display: flex;
			flex-direction: column;
			gap: 12px;
			z-index: 1000;
		}

		.float-btn {
			width: 56px;
			height: 56px;
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			cursor: pointer;
			transition: 0.3s;
			box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
			border: 1px solid var(--glass-border);
			text-decoration: none;
		}

		.float-btn-main {
			background: var(--primary);
			color: #0f172a;
		}

		.float-btn-sub {
			background: var(--card-bg);
			color: var(--text-main);
			backdrop-filter: blur(10px);
		}

		.float-btn:hover {
			transform: scale(1.1);
		}

		/* User Menu (Logged In) */
		.user-dropdown {
			position: relative;
		}

		.user-avatar {
			width: 40px;
			height: 40px;
			background: linear-gradient(135deg, var(--primary), var(--primary-light));
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			font-weight: 800;
			cursor: pointer;
			color: #0f172a;
		}

		/* Footer */
		footer {
			padding: 80px 5% 40px;
			background: #1e293b;
			color: #f8fafc;
			text-align: center;
		}

		.footer-logo {
			font-weight: 800;
			font-size: 1.5rem;
			margin-bottom: 20px;
			color: #ffffff;
		}

		.footer-logo span {
			color: var(--primary);
		}

		.copyright {
			color: #94a3b8;
			font-size: 0.85rem;
		}


		/* Floating Menu Style */
		.menu-overlay {
			position: fixed;
			bottom: 100px;
			right: 30px;
			background: var(--card-bg);
			backdrop-filter: blur(20px);
			border: 1px solid var(--glass-border);
			border-radius: 20px;
			width: 280px;
			padding: 12px;
			display: none;
			box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
			z-index: 1001;
		}

		.menu-overlay.active {
			display: block;
			animation: fadeInUp 0.3s ease;
		}

		@keyframes fadeInUp {
			from {
				opacity: 0;
				transform: translateY(20px);
			}

			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		.menu-link {
			display: flex;
			align-items: center;
			gap: 12px;
			padding: 14px 16px;
			color: var(--text-main);
			text-decoration: none;
			border-radius: 12px;
			transition: 0.2s;
			font-weight: 600;
		}

		.menu-link:hover {
			background: rgba(255, 255, 255, 0.05);
			color: var(--accent-purple);
		}

		.menu-header {
			padding: 10px 16px;
			font-size: 0.75rem;
			text-transform: uppercase;
			letter-spacing: 1px;
			color: var(--text-muted);
			font-weight: 800;
		}

		.hidden {
			display: none !important;
		}

		/* Guide Section Styles */
		.guide-section {
			padding: 100px 5%;
		}

		.guide-container {
			max-width: 1200px;
			margin: 0 auto;
			display: flex;
			flex-direction: column;
			gap: 80px;
		}

		.guide-card {
			display: flex;
			align-items: center;
			gap: 60px;
			background: var(--card-bg);
			border: 1px solid var(--glass-border);
			border-radius: 32px;
			padding: 40px;
			overflow: hidden;
			transition: 0.4s;
		}

		.guide-card:hover {
			border-color: var(--primary);
			box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
		}

		.guide-card.reverse {
			flex-direction: row-reverse;
		}

		.guide-image {
			flex: 1;
			min-width: 300px;
			border-radius: 20px;
			overflow: hidden;
			box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
		}

		.guide-image img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			display: block;
			transition: 0.5s;
		}

		.guide-card:hover .guide-image img {
			transform: scale(1.05);
		}

		.guide-info {
			flex: 1;
		}

		.badge {
			display: inline-block;
			padding: 6px 16px;
			background: rgba(99, 102, 241, 0.1);
			color: var(--primary);
			border-radius: 99px;
			font-size: 0.75rem;
			font-weight: 800;
			letter-spacing: 1px;
			margin-bottom: 20px;
		}

		.guide-info h3 {
			font-size: 2rem;
			margin-bottom: 16px;
			line-height: 1.2;
		}

		.guide-info p {
			color: var(--text-muted);
			margin-bottom: 30px;
			font-size: 1.1rem;
		}

		.guide-steps {
			list-style: none;
		}

		.guide-steps li {
			display: flex;
			align-items: center;
			gap: 16px;
			margin-bottom: 18px;
			color: var(--text-main);
			font-size: 1rem;
		}

		.guide-steps li span {
			width: 32px;
			height: 32px;
			background: var(--primary);
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			font-weight: 800;
			font-size: 0.85rem;
			flex-shrink: 0;
		}

		@media (max-width: 992px) {

			.guide-card,
			.guide-card.reverse {
				flex-direction: column;
				gap: 30px;
				padding: 30px;
			}

			.guide-info h3 {
				font-size: 1.8rem;
			}

			.guide-image {
				min-width: 100%;
			}
		}

		/* Tech Slider Animation */
		.tech-slider-container {
			width: 100%;
			overflow: hidden;
			padding: 40px 0;
			position: relative;
		}

		.tech-slider-track {
			display: flex;
			width: calc(400px * 8);
			/* Adjust based on slide width and count */
			animation: scrollTech 40s linear infinite;
		}

		.tech-slider-track:hover {
			animation-play-state: paused;
		}

		@keyframes scrollTech {
			0% {
				transform: translateX(0);
			}

			100% {
				transform: translateX(calc(-400px * 4));
			}
		}

		.tech-slide {
			width: 400px;
			padding: 0 15px;
			flex-shrink: 0;
		}

		.tech-slide-inner {
			background: var(--card-bg);
			border: 1px solid var(--glass-border);
			border-radius: 24px;
			overflow: hidden;
			height: 480px;
			display: flex;
			flex-direction: column;
			transition: 0.3s;
		}

		.tech-slide-inner:hover {
			border-color: var(--primary);
			transform: translateY(-5px);
		}

		.tech-slide-inner img {
			width: 100%;
			height: 220px;
			object-fit: cover;
		}

		.tech-slide-content {
			padding: 24px;
			flex: 1;
			display: flex;
			flex-direction: column;
		}

		.tech-slide-content h4 {
			font-size: 1.25rem;
			margin-bottom: 12px;
			color: #fff;
			font-weight: 700;
		}

		.tech-slide-content p {
			font-size: 0.95rem;
			color: var(--text-muted);
			line-height: 1.6;
		}

		@media (max-width: 480px) {
			nav {
				padding: 10px 5%;
			}

			.logo-box {
				font-size: 0.9rem;
			}

			.nav-auth b {
				font-size: 0.8rem !important;
			}

			.hero h1 {
				font-size: 2.2rem;
			}

			.hero p {
				font-size: 0.9rem;
			}

			.hero div {
				flex-direction: column;
				width: 100%;
			}

			.hero .btn-primary,
			.hero .btn-glass {
				width: 100%;
				padding: 12px !important;
			}

			.tech-slide {
				width: 300px;
			}

			@keyframes scrollTech {
				0% {
					transform: translateX(0);
				}

				100% {
					transform: translateX(calc(-300px * 4));
				}
			}

			.tech-slide-inner {
				height: 420px;
			}

			/* Specific fixes for Guide Academy on tiny screens */
			.guide-card {
				padding: 24px !important;
				border-radius: 20px;
			}

			.guide-info h3 {
				font-size: 1.4rem !important;
				margin-bottom: 10px;
			}

			.guide-info p {
				font-size: 0.95rem;
				margin-bottom: 20px;
			}

			.guide-steps li {
				font-size: 0.9rem;
				gap: 12px;
				align-items: flex-start;
				/* Ensure long text doesn't break the number position */
				line-height: 1.4;
			}

			.guide-steps li span {
				width: 28px;
				height: 28px;
				font-size: 0.75rem;
				margin-top: 2px;
				/* Slight offset for better alignment with text top */
			}

			.guide-image {
				height: 200px;
				min-width: unset;
				width: 100%;
			}
		}

		/* Utility class for JS toggling */
		.hidden {
			display: none !important;
		}
	</style>
</head>

<body>

	<nav>
		<div class="logo-box">
			<span>DUNVEX</span> DIGITAL
		</div>
		<div class="nav-auth" id="navAuth">
			<a href="auth.html" class="btn-glass">ƒêƒÉng nh·∫≠p</a>
			<a href="auth.html" class="btn-primary">B·∫Øt ƒë·∫ßu ngay</a>
		</div>
	</nav>

	<header class="hero">
		<h1>
			<span class="gradient-text">S·ªë H√≥a Doanh Nghi·ªáp</span><br>
			V·∫≠t Li·ªáu X√¢y D·ª±ng
		</h1>
		<p>H·ªá sinh th√°i th√¥ng minh gi√∫p b·∫°n qu·∫£n l√Ω b√°n h√†ng, check-in th·ªã tr∆∞·ªùng, kho b√£i v√† c√¥ng n·ª£ t·∫≠p trung tr√™n m·ªôt
			·ª©ng d·ª•ng duy nh·∫•t.</p>
		<div style="display: flex; gap: 16px; justify-content: center;">
			<a href="#" class="btn-primary" style="padding: 16px 40px; font-size: 1.1rem;">Tham gia h·ªá th·ªëng</a>
			<a href="#guideSection" class="btn-glass" style="padding: 16px 40px; font-size: 1.1rem;">Kh√°m ph√° t√≠nh
				nƒÉng</a>
		</div>
	</header>

	<section class="features-section hidden" id="featuresSection">
		<div class="section-title">
			<h2>C√¥ng Ngh·ªá C·ªët L√µi v√† B·∫£o V·ªá Quy·ªÅn Ri√™ng T∆∞</h2>
			<p>N·ªÅn t·∫£ng ƒë∆∞·ª£c x√¢y d·ª±ng tr√™n nh·ªØng c√¥ng ngh·ªá m·∫°nh m·∫Ω nh·∫•t c·ªßa Google v√† h·ªá th·ªëng m√£ h√≥a b·∫£o m·∫≠t tuy·ªát ƒë·ªëi.
			</p>
		</div>

		<!-- Infinite Tech Slider -->
		<div class="tech-slider-container">
			<div class="tech-slider-track">
				<!-- Slide 1: Google Cloud -->
				<div class="tech-slide">
					<div class="tech-slide-inner">
						<img src="assets/tech/google.png" alt="Google Cloud">
						<div class="tech-slide-content">
							<h4>H·ªá Th·ªëng Google Cloud</h4>
							<p>V·∫≠n h√†nh tr√™n n·ªÅn t·∫£ng ƒë√°m m√¢y hi·ªáu nƒÉng cao, ƒë·∫£m b·∫£o t·ªëc ƒë·ªô v√† s·ª± ·ªïn ƒë·ªãnh 99.9% cho
								doanh nghi·ªáp.</p>
						</div>
					</div>
				</div>
				<!-- Slide 2: Encryption -->
				<div class="tech-slide">
					<div class="tech-slide-inner">
						<img src="assets/tech/encryption.png" alt="M√£ h√≥a d·ªØ li·ªáu">
						<div class="tech-slide-content">
							<h4>M√£ H√≥a ƒêa L·ªõp XOR/AES</h4>
							<p>D·ªØ li·ªáu nh·∫°y c·∫£m ƒë∆∞·ª£c bƒÉm v√† m√£ h√≥a ngay t·ª´ khi kh·ªüi t·∫°o, ngƒÉn ch·∫∑n m·ªçi n·ªó l·ª±c truy c·∫≠p
								tr√°i ph√©p.</p>
						</div>
					</div>
				</div>
				<!-- Slide 3: Privacy -->
				<div class="tech-slide">
					<div class="tech-slide-inner">
						<img src="assets/tech/privacy.png" alt="Quy·ªÅn ri√™ng t∆∞">
						<div class="tech-slide-content">
							<h4>Quy·ªÅn Ri√™ng T∆∞ Tuy·ªát ƒê·ªëi</h4>
							<p>Cam k·∫øt d·ªØ li·ªáu ch·ªâ thu·ªôc v·ªÅ ng∆∞·ªùi t·∫°o. Kh√¥ng ai, k·ªÉ c·∫£ qu·∫£n tr·ªã vi√™n h·ªá th·ªëng, c√≥ th·ªÉ
								xem ƒë∆∞·ª£c n·ªôi dung chi ti·∫øt c·ªßa b·∫°n.</p>
						</div>
					</div>
				</div>
				<!-- Slide 4: AI Integration -->
				<div class="tech-slide">
					<div class="tech-slide-inner">
						<img src="assets/tech/ai.png" alt="AI Th√¥ng Minh">
						<div class="tech-slide-content">
							<h4>Tr√≠ Tu·ªá Nh√¢n T·∫°o B·∫£o M·∫≠t</h4>
							<p>T√≠ch h·ª£p AI h·ªó tr·ª£ quy·∫øt ƒë·ªãnh kinh doanh nh∆∞ng v·∫´n tu√¢n th·ªß nghi√™m ng·∫∑t c√°c ti√™u chu·∫©n
								b·∫£o m·∫≠t d·ªØ li·ªáu n·ªôi b·ªô.</p>
						</div>
					</div>
				</div>

				<!-- Duplicate for Infinite Loop -->
				<div class="tech-slide">
					<div class="tech-slide-inner">
						<img src="assets/tech/google.png" alt="Google Cloud">
						<div class="tech-slide-content">
							<h4>H·ªá Th·ªëng Google Cloud</h4>
							<p>V·∫≠n h√†nh tr√™n n·ªÅn t·∫£ng ƒë√°m m√¢y hi·ªáu nƒÉng cao, ƒë·∫£m b·∫£o t·ªëc ƒë·ªô v√† s·ª± ·ªïn ƒë·ªãnh 99.9% cho
								doanh nghi·ªáp.</p>
						</div>
					</div>
				</div>
				<div class="tech-slide">
					<div class="tech-slide-inner">
						<img src="assets/tech/encryption.png" alt="M√£ h√≥a d·ªØ li·ªáu">
						<div class="tech-slide-content">
							<h4>M√£ H√≥a ƒêa L·ªõp XOR/AES</h4>
							<p>D·ªØ li·ªáu nh·∫°y c·∫£m ƒë∆∞·ª£c bƒÉm v√† m√£ h√≥a ngay t·ª´ khi kh·ªüi t·∫°o, ngƒÉn ch·∫∑n m·ªçi n·ªó l·ª±c truy c·∫≠p
								tr√°i ph√©p.</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- User Guide / Academy Section -->
	<section class="guide-section" id="guideSection">
		<div class="section-title">
			<h2>Trung T√¢m H·ªçc Vi·ªán Dunvex</h2>
			<p>H∆∞·ªõng d·∫´n chi ti·∫øt quy tr√¨nh v·∫≠n h√†nh h·ªá th·ªëng d√†nh cho nh√¢n vi√™n v√† qu·∫£n l√Ω</p>
		</div>

		<div class="guide-container">
			<!-- Guide 1: S·∫£n Ph·∫©m -->
			<div class="guide-card">
				<div class="guide-image">
					<img src="assets/guides/product.png" alt="T·∫°o s·∫£n ph·∫©m">
				</div>
				<div class="guide-info">
					<div class="badge">QU·∫¢N L√ù S·∫¢N PH·∫®M</div>
					<h3>C√°ch T·∫°o & C·∫≠p Nh·∫≠t S·∫£n Ph·∫©m</h3>
					<p>Gi√∫p h·ªá th·ªëng lu√¥n c·∫≠p nh·∫≠t ƒë√∫ng m·∫´u m√£ v√† gi√° th·ªã tr∆∞·ªùng.</p>
					<ul class="guide-steps">
						<li><span>1</span>Truy c·∫≠p <b>Qu·∫£n l√Ω S·∫£n ph·∫©m</b> t·ª´ Menu.</li>
						<li><span>2</span>Nh·∫•n <b>Th√™m m·ªõi</b>, ƒëi·ªÅn t√™n, quy c√°ch v√† gi√°.</li>
						<li><span>3</span>T·∫£i ·∫£nh s·∫£n ph·∫©m l√™n ƒë·ªÉ hi·ªÉn th·ªã tr√™n Catalogue.</li>
						<li><span>4</span>Nh·∫•n <b>L∆∞u</b> ƒë·ªÉ ƒë·ªìng b·ªô l√™n h·ªá th·ªëng v√† Cloud.</li>
					</ul>
				</div>
			</div>

			<!-- Guide 2: Kho V·∫≠n -->
			<div class="guide-card reverse">
				<div class="guide-image">
					<img src="assets/guides/inventory.png" alt="Qu·∫£n l√Ω kho">
				</div>
				<div class="guide-info">
					<div class="badge" style="background: rgba(34, 197, 94, 0.1); color: #22c55e;">KHO V·∫¨N</div>
					<h3>Nh·∫≠p - Xu·∫•t - T·ªìn Kho</h3>
					<p>Ki·ªÉm so√°t d√≤ng h√†ng h√≥a ra v√†o kho m·ªôt c√°ch ch√≠nh x√°c nh·∫•t.</p>
					<ul class="guide-steps">
						<li><span>1</span>V√†o m·ª•c <b>Qu·∫£n l√Ω kho</b>. Ch·ªçn phi·∫øu <b>Nh·∫≠p</b> ho·∫∑c <b>Xu·∫•t</b>.</li>
						<li><span>2</span>Ch·ªçn m√£ s·∫£n ph·∫©m, nh·∫≠p s·ªë l∆∞·ª£ng v√† ng∆∞·ªùi th·ª±c hi·ªán.</li>
						<li><span>3</span>H·ªá th·ªëng t·ª± ƒë·ªông t√≠nh to√°n <b>T·ªìn cu·ªëi</b> ngay l·∫≠p t·ª©c.</li>
						<li><span>4</span>Xem l·ªãch s·ª≠ bi·∫øn ƒë·ªông kho trong tab <b>L·ªãch s·ª≠</b>.</li>
					</ul>
				</div>
			</div>

			<!-- Guide 3: CRM & Check-in -->
			<div class="guide-card">
				<div class="guide-image">
					<img src="assets/guides/crm.png" alt="CRM Check-in">
				</div>
				<div class="guide-info">
					<div class="badge" style="background: rgba(192, 132, 252, 0.1); color: #c084fc;">CRM & SALES</div>
					<h3>T·∫°o Kh√°ch H√†ng & Check-in</h3>
					<p>Ghi nh·∫≠n v·ªã tr√≠ v√† nh·∫≠t k√Ω vi·∫øng thƒÉm kh√°ch h√†ng th·ª±c t·∫ø.</p>
					<ul class="guide-steps">
						<li><span>1</span><b>Th√™m KH:</b> Nh·∫≠p th√¥ng tin kh√°ch h√†ng m·ªõi trong m·ª•c CRM.</li>
						<li><span>2</span><b>Check-in:</b> Khi ƒë·∫øn c·ª≠a h√†ng, nh·∫•n n√∫t üìç <b>Check-in</b>.</li>
						<li><span>3</span>H·ªá th·ªëng l·∫•y v·ªã tr√≠ GPS v√† cho ph√©p ghi ch√∫ n·ªôi dung bu·ªïi thƒÉm.</li>
						<li><span>4</span>L·ªãch tr√¨nh ƒë∆∞·ª£c t·ª± ƒë·ªông t·ªïng h·ª£p v√†o b√°o c√°o tu·∫ßn c·ªßa Sale.</li>
					</ul>
				</div>
			</div>

			<!-- Guide 4: L√™n ƒê∆°n -->
			<div class="guide-card reverse">
				<div class="guide-image">
					<img src="assets/guides/order.png" alt="L√™n ƒë∆°n h√†ng">
				</div>
				<div class="guide-info">
					<div class="badge" style="background: rgba(56, 189, 248, 0.1); color: #38bdf8;">ƒê∆†N H√ÄNG</div>
					<h3>Quy Tr√¨nh L√™n ƒê∆°n H√†ng</h3>
					<p>T·ª´ l√∫c ch·ªçn h√†ng ƒë·∫øn khi in phi·∫øu giao h√†ng chuy√™n nghi·ªáp.</p>
					<ul class="guide-steps">
						<li><span>1</span>Ch·ªçn <b>L√™n ƒë∆°n h√†ng</b>, t√¨m kh√°ch h√†ng trong danh s√°ch.</li>
						<li><span>2</span>Ch·ªçn s·∫£n ph·∫©m, h·ªá th·ªëng t·ª± ƒë·ªông √°p gi√° NET v√† chi·∫øt kh·∫•u.</li>
						<li><span>3</span>Ki·ªÉm tra t·ªïng ti·ªÅn, ph√≠ v·∫≠n chuy·ªÉn v√† nh·∫•n <b>Ch·ªët ƒë∆°n</b>.</li>
						<li><span>4</span>In phi·∫øu giao h√†ng (PDF/·∫¢nh) g·ª≠i ngay cho kh√°ch qua Zalo.</li>
					</ul>
				</div>
			</div>

			<!-- Guide 5: Admin -->
			<div class="guide-card">
				<div class="guide-image">
					<img src="assets/guides/admin.png" alt="Qu·∫£n tr·ªã Admin">
				</div>
				<div class="guide-info">
					<div class="badge" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">QU·∫¢N TR·ªä & B√ÅO C√ÅO
					</div>
					<h3>C·∫•p Quy·ªÅn & Nh·∫≠n B√°o C√°o</h3>
					<p>Ph√¢n quy·ªÅn b·∫£o m·∫≠t v√† c∆° ch·∫ø g·ª≠i b√°o c√°o t·ª± ƒë·ªông cho Admin.</p>
					<ul class="guide-steps">
						<li><span>1</span><b>Ph√¢n quy·ªÅn:</b> Admin t√≠ch ch·ªçn quy·ªÅn h·∫°n cho t·ª´ng Role.</li>
						<li><span>2</span><b>B√°o c√°o Tu·∫ßn:</b> H·ªá th·ªëng t·ª± ƒë·ªông ƒë·∫©y doanh s·ªë theo t·ª´ng Sale.</li>
						<li><span>3</span><b>B√°o c√°o Admin:</b> Nh·∫•n üì§ <b>G·ª≠i Report</b> ƒë·ªÉ nh·∫≠n file Excel t·ªïng h·ª£p
							qua Email.</li>
						<li><span>4</span>Excel bao g·ªìm: Doanh thu, ƒê∆°n h√†ng v√† <b>Kh√°ch h√†ng m·ªõi</b> trong k·ª≥.</li>
					</ul>
				</div>
			</div>
		</div>
	</section>

	<section class="modules-preview">
		<div class="section-title">
			<h2>N·ªÅn T·∫£ng S·ª©c M·∫°nh</h2>
			<p>T√≠ch h·ª£p s√¢u c√°c c√¥ng ngh·ªá ƒëi·ªán to√°n ƒë√°m m√¢y</p>
		</div>
		<div class="module-list">
			<div class="module-tag">üìä Google Sheets CRM</div>
			<div class="module-tag">ü§ñ Tr√≠ Tu·ªá Nh√¢n T·∫°o AI</div>
			<div class="module-tag">üìß X√°c th·ª±c Gmail OTP</div>
			<div class="module-tag">üîó T√≠ch h·ª£p QR Code</div>
			<div class="module-tag">üì± App Mobile Ready</div>
		</div>
	</section>

	<footer>
		<div class="footer-logo">DUNVEX <span>DIGITAL</span></div>
		<p class="copyright">&copy; 2024 - 2026 Dunvex Ecosystem. N·ªÅn t·∫£ng qu·∫£n tr·ªã VLXD chuy√™n s√¢u.</p>
	</footer>

	</footer>

	<!-- Floating Menu s·∫Ω ƒë∆∞·ª£c t·ª± ƒë·ªông ch√®n b·ªüi floating-menu.js -->

	<script>
		// Init UI on load
		document.addEventListener('DOMContentLoaded', () => {
			updateUI();
		});

		function updateUI() {
			const session = SecurityProvider.getSession();
			const navAuth = document.getElementById('navAuth');

			if (session) {
				const user = session.user;
				const perms = session.permissions;

				// Redirect Super Admin to Master Home
				if (user.email === 'dunvex.green@gmail.com') {
					window.location.href = 'master-home.html';
					return;
				}
				// Link to Admin Panel if Role is R001 OR has 'quanLyNhanVien' permission (Upgraded Staff)
				const profilePage = (user.roleId === 'R001' || (perms && perms.quanLyNhanVien)) ? 'admin-users.html' : 'user-profile.html';

				navAuth.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <div style="text-align: right; line-height: 1.2;">
                            <a href="${profilePage}" style="text-decoration: none; display: block;">
                                <span style="color: var(--text-muted); font-size: 0.8rem; display: block;">Ch√†o,</span>
                                <b style="color: var(--text-main); font-size: 0.95rem;">${user.fullName}</b>
                            </a>
                            <button onclick="handleLogout()" style="background: none; border: none; color: #ef4444; font-size: 0.75rem; cursor: pointer; padding: 0; text-decoration: underline;">ƒêƒÉng xu·∫•t</button>
                        </div>
                        <a href="${profilePage}" style="text-decoration: none;">
                            <div class="user-avatar" style="transition: 0.3s; cursor: pointer;" onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">
                                ${user.fullName.charAt(0).toUpperCase()}
                            </div>
                        </a>
                    </div>
                `;
				document.getElementById('featuresSection').classList.remove('hidden');

				// Check specific permissions for feature cards
				const isAdmin = user.roleId === 'R001';
				const checkPerm = (p) => isAdmin || (perms ? perms[p] : ['xemBangGia', 'checkinSales', 'quanLySanPham', 'danhSachDonHang'].includes(p));

				// Safely toggle cards if they exist
				const toggleCard = (id, perm) => {
					const el = document.getElementById(id);
					if (el) {
						if (checkPerm(perm)) el.classList.remove('hidden');
						else el.classList.add('hidden');
					}
				};

				toggleCard('card_crm', 'checkinSales');
				toggleCard('card_orders', 'danhSachDonHang');
				toggleCard('card_debt', 'quanLyCongNo');
				toggleCard('card_admin', 'quanLyNhanVien');
				toggleCard('card_pricelist', 'xemBangGia');
				toggleCard('card_inventory', 'quanLyKho');

				// Sync permissions from server for real-time updates
				refreshPermissions(user);

			} else {
				navAuth.innerHTML = `
                    <a href="auth.html" class="btn-glass" style="padding: 8px 16px; font-size: 0.85rem;">ƒêƒÉng nh·∫≠p</a>
                    <a href="auth.html" class="btn-primary" style="padding: 8px 16px; font-size: 0.85rem;">B·∫Øt ƒë·∫ßu</a>
                `;
				const featSec = document.getElementById('featuresSection');
				if (featSec) featSec.classList.add('hidden');
			}
		}

		async function refreshPermissions(user) {
			const AUTH_URL = 'https://script.google.com/macros/s/AKfycbyaz_6xI3Nz0FHnNgr9qEcPuOUGf4OY53l8x1ofSoh_LIGozbKmpSJNAwpq8U6ygpPNHw/exec';
			try {
				const res = await fetch(AUTH_URL, {
					method: 'POST',
					body: SecurityProvider.prepareRequest('get_permissions', {
						roleId: user.roleId,
						adminEmail: user.adminEmail || user.email
					})
				});
				const data = await res.json();
				if (data.success && data.permissions) {
					// T·ª± ƒë·ªông nh·∫≠n di·ªán n·∫øu Server tr·∫£ v·ªÅ list (get_phan_quyen) ho·∫∑c 1 object (get_permissions)
					let myPerm = {};
					if (data.permissions.data) {
						const allRoles = data.permissions.data || [];
						myPerm = allRoles.find(r => r.id_vai_tro === user.roleId) || allRoles[0] || {};
					} else {
						myPerm = data.permissions;
					}

					const flattenedPerms = {
						...myPerm,
						checkinSales: myPerm.checkinSales ?? myPerm.checkin_sales,
						quanLySanPham: myPerm.quanLySanPham ?? myPerm.quan_ly_san_pham,
						danhSachDonHang: myPerm.danhSachDonHang ?? myPerm.danh_sach_don_hang,
						quanLyNhanVien: myPerm.quanLyNhanVien ?? myPerm.quan_ly_nhan_vien,
						xemBangGia: myPerm.xemBangGia ?? myPerm.xem_bang_gia,
						quanLyKho: myPerm.quanLyKho ?? myPerm.quan_ly_kho,
						checkinSummary: myPerm.checkinSummary ?? myPerm.checkin_summary,
						quanLyCongNo: myPerm.quanLyCongNo ?? myPerm.quan_ly_cong_no,
						nhapKho: myPerm.nhapKho ?? myPerm.nhap_kho,
						khoXuatHang: myPerm.khoXuatHang ?? myPerm.kho_xuat_hang,
						giaoHang: myPerm.giaoHang ?? myPerm.giao_hang,
						quanLyNhanSu: myPerm.quanLyNhanSu ?? myPerm.quan_ly_nhan_su,
						hienThiTenMenu: myPerm.hienThiTenMenu ?? myPerm.hien_thi_ten_menu,
						hrSetup: myPerm.hrSetup ?? myPerm.hr_setup,
						traCuuSanPham: myPerm.traCuuSanPham ?? myPerm.tra_cuu_san_pham
					};
					// SAVE SECURE SESSION
					SecurityProvider.saveSession(user, flattenedPerms);
					const perms = flattenedPerms;
					const isAdmin = user.roleId === 'R001';
					const checkPerm = (p) => isAdmin || perms[p];

					const toggleCard = (id, perm) => {
						const el = document.getElementById(id);
						if (el) {
							if (checkPerm(perm)) el.classList.remove('hidden');
							else el.classList.add('hidden');
						}
					};

					toggleCard('card_crm', 'checkinSales');
					toggleCard('card_orders', 'danhSachDonHang');
					toggleCard('card_debt', 'quanLyCongNo');
					toggleCard('card_admin', 'quanLyNhanVien');
					toggleCard('card_pricelist', 'xemBangGia');
					toggleCard('card_inventory', 'quanLyKho');

					// Refresh floating menu as well
					if (window.refreshDunvexMenu) window.refreshDunvexMenu();
				}
			} catch (e) { console.error("Sync perms error", e); }
		}

		// Re-use logic from floating-menu.js if needed or just let it handle redirects
	</script>
	<script src="security-utils.js"></script>
	<script src="chatbot.js"></script>
	<script src="floating-menu.js"></script>
	<script>
		function handleLogout() {
			SecurityProvider.logout();
		}
	</script>
</body>

</html>